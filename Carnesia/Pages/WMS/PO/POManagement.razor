@page "/po-management"
@using Carnesia.Shared.WMS.PO.CreatePo
@using Carnesia.Shared.WMS.PO.POList
@using Carnesia.Shared.WMS.PO.ReceivePo
@using Carnesia.Shared.WMS.PO.AwaitingApproval
@using Carnesia.Shared.WMS.PO.GenerateUID
@using Carnesia.Shared.WMS.PO.BulkUID

<MudPaper Elevation="0">
    <MudContainer Class="mt-5 d-flex justify-center">
        <MudButtonGroup Color="Color.Primary" Variant="Variant.Outlined" OverrideStyles="false">
            @if (role == "Admin" || role == "Executive - WH" || role == "Sr. Executive - WH" || role == "Head of Department - Ops" || role == "Manager - WH" || role == "Executive - Procurement" || role == "Manager - Procurement" || role == "Senior Executive - Marketing")
            {
                <MudButton Color="Color.Primary" Variant="CurrentPage == CreatePO ? Variant.Filled : Variant.Outlined" OnClick="() => ChangePage(CreatePO)">Create PO</MudButton>
            }
            @if (role == "Admin" || role == "Executive - WH" || role == "Sr. Executive - WH" || role == "Head of Department - Ops" || role == "Manager - WH" || role == "Executive - Procurement" || role == "Manager - Procurement" || role == "Senior Executive - Marketing")
            {
                <MudButton Color="Color.Primary" Variant="CurrentPage == AwaitingApproval ? Variant.Filled : Variant.Outlined" OnClick="() => ChangePage(AwaitingApproval)">
                    Awaiting Approval
                </MudButton>
            }
            @if (role == "Admin" || role == "Executive - WH" || role == "Sr. Executive - WH" || role == "Head of Department - Ops" || role == "Manager - WH")
            {
                <MudButton Color="Color.Primary" Variant="CurrentPage == ReceivePO ? Variant.Filled : Variant.Outlined" OnClick="() => ChangePage(ReceivePO)">Receive PO</MudButton>
            }
            @if (role == "Admin" || role == "Executive - WH" || role == "Sr. Executive - WH" || role == "Head of Department - Ops" || role == "Manager - WH")
            {
                <MudButton Color="Color.Primary" Variant="CurrentPage == GenerateUID ? Variant.Filled : Variant.Outlined" OnClick="() => ChangePage(GenerateUID)">Generate UID</MudButton>
            }
            @if (role == "Admin" || role == "Head of Department - Ops" || role == "Manager - WH")
            {
                <MudButton Color="Color.Primary" Variant="CurrentPage == BulkUID ? Variant.Filled : Variant.Outlined" OnClick="() => ChangePage(BulkUID)">Bulk UID</MudButton>
            }
            @if (role == "Admin" || role == "Executive - WH" || role == "Sr. Executive - WH" || role == "Head of Department - Ops" || role == "Manager - WH" || role == "Executive - Procurement" || role == "Manager - Procurement" || role == "Management" || role == "Executive - Accounts" || role == "Manager - Accounts" || role == "Senior Executive - Marketing" || role == "Executive - Marketing" || role == "Head of Marketing")
            {
                <MudButton Color="Color.Primary" Variant="CurrentPage == PurchaseOrderList ? Variant.Filled : Variant.Outlined" OnClick="() => ChangePage(PurchaseOrderList)">
                    Purchase Order List
                </MudButton>
            }
        </MudButtonGroup>
    </MudContainer>
</MudPaper>

@if (new List<string> { "Admin", "Executive - WH", "Sr. Executive - WH", "Head of Department - Ops", "Manager - WH", "Executive - Procurement", "Manager - Procurement", "Senior Executive - Marketing", "Management", "Executive - Accounts", "Manager - Accounts", "Executive - Marketing", "Head of Marketing" }.Contains(role))
{
    if (CurrentPage == CreatePO)
    {
        <CreatePO />
    }
    else if (CurrentPage == PurchaseOrderList)
    {
        <POList />
    }
    else if (CurrentPage == ReceivePO)
    {
        <ReceivePo />
    }
    else if (CurrentPage == AwaitingApproval)
    {
        <AwaitingApproval />
    }
    else if (CurrentPage == GenerateUID)
    {
        <GenerateUID />
    }
    else if (CurrentPage == BulkUID)
    {
        <BulkUID />
    }
}



@code {
    // Pages
    private string CreatePO { get; set; } = "Create PO";
    private string AwaitingApproval { get; set; } = "Awaiting Approval";
    private string ReceivePO { get; set; } = "Receive PO";
    private string PurchaseOrderList { get; set; } = "Purchase Order List";
    private string GenerateUID { get; set; } = "Generate UID";
    private string BulkUID { get; set; } = "Bulk UID";

    // Current Page
    private string CurrentPage { get; set; } = "Create PO";

    // Change Current Page
    void ChangePage(string pageName)
    {
        CurrentPage = pageName;
    }

    // Role
    private string role { get; set; }
}
