@page "/report"
@using Carnesia.Shared.WMS.Report.AllWarehouseStock
@using Carnesia.Shared.WMS.Report.BinList
@using Carnesia.Shared.WMS.Report.POReport
@using Carnesia.Shared.WMS.Report.UIDReport
@inject ILocalStorageService _storage

<MudPaper Elevation="0">
    <MudContainer Class="mt-5 d-flex justify-center">
        <MudButtonGroup Color="Color.Primary" Variant="Variant.Outlined" OverrideStyles="false">
            @if (new List<string> { "Admin", "Executive - WH", "Sr. Executive - WH", "Head of Department - Ops", "Manager - WH", "Executive - Procurement", "Manager - Procurement", "Management", "Executive-Accounts", "Manager-Accounts", "Senior Executive - Marketing", "Executive - Marketing", "Executive - CS", "Executive - CRM", "Marketing Manager", "Head of Marketing", "Executive - CMS", "Outlet Experience Manager", "Outlet Experience Executive", "Retail Team Leader", "Customer Service Associate"}.Contains(role))
            {
                <MudButton Color="Color.Primary" Variant="CurrentPage == AllWarehouseStock ? Variant.Filled : Variant.Outlined" OnClick="() => ChangePage(AllWarehouseStock)">
                @AllWarehouseStock
            </MudButton>
            }
            @if (new List<string> { "Admin", "Executive - WH", "Sr. Executive - WH", "Head of Department - Ops", "Manager - WH", "Executive - Procurement", "Outlet Experience Manager", "Outlet Experience Executive", "Retail Team Leader", "Customer Service Associate"}.Contains(role))
            {
            <MudButton Color="Color.Primary" Variant="CurrentPage == BinList ? Variant.Filled : Variant.Outlined" OnClick="() => ChangePage(BinList)">@BinList</MudButton>
            }
            @if (new List<string> { "Admin", "Executive - WH", "Sr. Executive - WH", "Head of Department - Ops", "Manager - WH", "Executive - Procurement", "Manager - Procurement", "Management", "Executive-Accounts", "Manager-Accounts", "Senior Executive - Marketing", "Executive - Marketing", "Marketing Manager", "Head of Marketing"}.Contains(role))
            {
            <MudButton Color="Color.Primary" Variant="CurrentPage == POReport ? Variant.Filled : Variant.Outlined" OnClick="() => ChangePage(POReport)">@POReport</MudButton>
            }
            @if (new List<string> { "Admin", "Head of Department - Ops", "Manager - WH"}.Contains(role))
            {
            <MudButton Color="Color.Primary" Variant="CurrentPage == UIDReport ? Variant.Filled : Variant.Outlined" OnClick="() => ChangePage(UIDReport)">@UIDReport</MudButton>
            }

        </MudButtonGroup>
    </MudContainer>
</MudPaper>

@if(CurrentPage == AllWarehouseStock)
{
    <AllWarehouseStock />
}
else if (CurrentPage == BinList)
{
    <BinList />
}
else if (CurrentPage == POReport)
{
    <POReport />
}
else if (CurrentPage == UIDReport)
{
    <UIDReport />
}

@code {
    // Page On Load
    protected override async Task OnInitializedAsync()
    {
        role = await _storage.GetItemAsStringAsync("role");
    }
    // Role
    private string role { get; set; }

    // Pages
    private string AllWarehouseStock = "All Warehouse Stock";
    private string BinList = "BIN List";
    private string POReport = "PO Report";
    private string UIDReport = "UID Report";
    // Current Page
    private string CurrentPage { get; set; } = "All Warehouse Stock";


    // Change Page
    private void ChangePage(string page)
    {
        CurrentPage = page;
    }
}
