@inject IJSRuntime IJS

<MudDialog>
    <DialogContent>
        <MudForm Style="max-height: 90vh;" @ref="form" @bind-IsValid="@success" @bind-Errors="@errors">
            <MudGrid>
                <MudItem xs="12">
                    <MudRadioGroup @bind-SelectedOption="selectDate" Class="d-flex flex-column">
                        <MudRadio Option="@("12-6-2022")" Color="Color.Primary" Dense="true">12.6.2022 - 200</MudRadio>
                        <MudRadio Option="@("13-6-2022")" Color="Color.Primary" Dense="true">13.6.2022 - 150</MudRadio>
                    </MudRadioGroup>
                </MudItem>
                <MudItem xs="12">
                    <MudCheckBox @bind-Checked="@labelForm.BSTI" Label="BSTI" Color="Color.Primary"></MudCheckBox>
                </MudItem>
                <MudItem xs="12">
                    <MudCheckBox @bind-Checked="@labelForm.MRP" Label="MRP" Color="Color.Primary"></MudCheckBox>
                </MudItem>
                <MudItem xs="12">
                    <MudCheckBox @bind-Checked="@labelForm.SKU" Label="SKU" Color="Color.Primary"></MudCheckBox>
                </MudItem>
                <MudItem xs="12">
                    <MudCheckBox @bind-Checked="@labelForm.SKU" Label="Product ID" Color="Color.Primary"></MudCheckBox>
                </MudItem>
                <MudItem xs="12">
                    <MudCheckBox @bind-Checked="@labelForm.SKU" Label="Importer Info" Color="Color.Primary"></MudCheckBox>
                </MudItem>
                <MudItem xs="12">
                    <div class="d-flex justify-end">
                        <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="GoToPrint">Print Label</MudButton>
                    </div>
                </MudItem>
            </MudGrid>
        </MudForm>
    </DialogContent>
</MudDialog>

@code {
    [CascadingParameter] MudDialogInstance MudDialog { get; set; }

    void Cancel() => MudDialog.Cancel();

    // Form Ref
    MudForm form;
    bool success;
    string[] errors = { };

    // Input Data Bind
    public LabelForm labelForm = new LabelForm();

    // Select Date
    private string selectDate { get; set; }


    // Form Class
    public class LabelForm
    {
        public DateTime? Date { get; set; }
        public int QTY { get; set; }
        public bool BSTI { get; set; }
        public bool MRP { get; set; }
        public bool UID { get; set; }
        public bool SKU { get; set; }
    }

    // Go To Print Label
    private async Task GoToPrint()
    {
        await IJS.InvokeAsync<object>("open", new object[] { "/print-label", "_blank" });
    }
}
